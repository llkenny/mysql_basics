CREATE DATABASE  IF NOT EXISTS `max_oil` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;
USE `max_oil`;
-- MySQL dump 10.13  Distrib 8.0.21, for macos10.15 (x86_64)
--
-- Host: localhost    Database: max_oil
-- ------------------------------------------------------
-- Server version	8.0.23

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `transaction`
--

DROP TABLE IF EXISTS `transaction`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transaction` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `date` datetime NOT NULL COMMENT 'Дата совершения операции',
  `price` double DEFAULT NULL COMMENT 'Цена услуги или продукта на момент совершения операции',
  `count` double DEFAULT NULL COMMENT 'Общая сумма операции',
  `card_id` int unsigned NOT NULL COMMENT 'Карта, по которой совершена операция',
  `service_id` int unsigned DEFAULT NULL COMMENT 'Услуга',
  `product_id` int unsigned DEFAULT NULL COMMENT 'Продукт',
  `station_id` int unsigned NOT NULL COMMENT 'Точка обслуживания, на которой была совершена операция',
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  KEY `fk_transaction_card1_idx` (`card_id`),
  KEY `fk_transaction_service1_idx` (`service_id`),
  KEY `fk_transaction_product1_idx` (`product_id`),
  KEY `fk_transaction_station1_idx` (`station_id`),
  CONSTRAINT `fk_transaction_card1` FOREIGN KEY (`card_id`) REFERENCES `card` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_transaction_product1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_transaction_service1` FOREIGN KEY (`service_id`) REFERENCES `service` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE,
  CONSTRAINT `fk_transaction_station1` FOREIGN KEY (`station_id`) REFERENCES `station` (`id`) ON DELETE RESTRICT ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=150 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Операция по продуктам и услугам';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transaction`
--

LOCK TABLES `transaction` WRITE;
/*!40000 ALTER TABLE `transaction` DISABLE KEYS */;
INSERT INTO `transaction` VALUES (1,'2021-03-03 21:48:20',980.23,14.12,38,4,NULL,9),(2,'2021-03-03 21:57:20',852.15,99.9,22,2,NULL,16),(3,'2021-03-03 22:13:20',764.73,35.77,25,NULL,6,8),(4,'2021-03-03 22:31:20',156.08,23.67,36,NULL,2,7),(5,'2021-03-03 23:24:20',351.73,15.52,36,2,NULL,6),(6,'2021-03-04 00:05:20',156.17,55.51,16,7,NULL,12),(7,'2021-03-04 01:33:20',862.57,66.82,37,7,NULL,11),(8,'2021-03-04 02:16:20',808.55,75.44,17,4,NULL,3),(9,'2021-03-04 02:17:20',39.29,16.19,34,8,NULL,1),(10,'2021-03-04 02:24:20',824.54,91.58,6,NULL,6,13),(11,'2021-03-04 04:00:20',385.63,4.68,4,NULL,1,6),(12,'2021-03-04 05:17:20',895.9,18.3,12,5,NULL,12),(13,'2021-03-04 05:38:20',121.33,98.11,27,7,NULL,15),(14,'2021-03-04 06:28:20',745.36,21.74,42,NULL,5,11),(15,'2021-03-04 07:03:20',202.5,96.98,12,3,NULL,21),(16,'2021-03-04 08:11:20',868.4,28.98,42,3,NULL,1),(17,'2021-03-04 09:25:20',979.52,67.19,21,1,NULL,15),(18,'2021-03-04 11:00:20',361.24,96.28,36,NULL,7,18),(19,'2021-03-04 11:13:20',663.28,92.13,31,3,NULL,17),(20,'2021-03-04 11:43:20',264.5,43.43,19,5,NULL,6),(21,'2021-03-04 12:26:20',630.18,87.15,23,6,NULL,18),(22,'2021-03-04 13:16:20',664.51,83.74,10,4,NULL,3),(23,'2021-03-04 14:04:20',668.92,90.31,25,7,NULL,16),(24,'2021-03-04 14:55:20',312.32,3.36,12,NULL,6,16),(25,'2021-03-04 16:22:20',258.29,68.71,33,NULL,3,10),(26,'2021-03-04 16:24:20',724.26,55.17,29,NULL,7,6),(27,'2021-03-04 17:02:20',608.35,90.44,35,NULL,8,12),(28,'2021-03-04 17:51:20',170,37.73,19,7,NULL,19),(29,'2021-03-04 19:19:20',907.53,88.92,36,8,NULL,2),(30,'2021-03-04 20:50:20',644.85,50.78,30,4,NULL,20),(31,'2021-03-04 22:19:20',859.6,63.47,30,NULL,6,13),(32,'2021-03-04 23:58:20',863.44,34.16,6,5,NULL,14),(33,'2021-03-05 00:17:20',478.79,82.04,33,7,NULL,3),(34,'2021-03-05 00:40:20',598.22,31.52,39,8,NULL,10),(35,'2021-03-05 00:53:20',925.13,24.49,23,5,NULL,11),(36,'2021-03-05 01:11:20',84.6,86.94,5,NULL,1,11),(37,'2021-03-05 01:49:20',825.64,97.7,21,1,NULL,7),(38,'2021-03-05 03:02:20',58.47,11.03,19,NULL,7,10),(39,'2021-03-05 04:39:20',416.59,17.7,32,NULL,4,15),(40,'2021-03-05 06:08:20',302.1,84.81,17,NULL,7,17),(41,'2021-03-05 07:36:20',238.83,56.07,5,7,NULL,6),(42,'2021-03-05 08:23:20',787.27,51.44,11,NULL,10,1),(43,'2021-03-05 08:48:20',839.2,43.34,32,NULL,8,3),(44,'2021-03-05 09:19:20',176.8,96.33,15,5,NULL,13),(45,'2021-03-05 10:41:20',521.79,13.4,6,1,NULL,3),(46,'2021-03-05 12:03:20',225.4,66.79,33,NULL,6,21),(47,'2021-03-05 12:53:20',278.83,88.33,29,3,NULL,18),(48,'2021-03-05 14:04:20',594.47,85.33,24,NULL,9,13),(49,'2021-03-05 14:25:20',879.96,77.71,13,NULL,8,2),(50,'2021-03-05 15:06:20',674.68,13.46,32,NULL,3,17),(51,'2021-03-05 15:53:20',837.52,78.08,20,5,NULL,15),(52,'2021-03-05 16:15:20',138.32,4.6,40,NULL,3,9),(53,'2021-03-05 16:48:20',712.23,57.35,36,8,NULL,13),(54,'2021-03-05 18:04:20',276.15,10.76,35,2,NULL,7),(55,'2021-03-05 18:26:20',180.3,23.8,32,5,NULL,21),(56,'2021-03-05 19:34:20',236.79,14.76,2,NULL,5,20),(57,'2021-03-05 19:48:20',560.16,38.5,12,NULL,7,18),(58,'2021-03-05 20:13:20',183.89,17.85,17,2,NULL,13),(59,'2021-03-05 20:31:20',61.58,78.28,36,NULL,4,14),(60,'2021-03-05 20:52:20',385.63,30.6,19,8,NULL,6),(61,'2021-03-05 22:00:20',898.11,45.01,28,NULL,5,3),(62,'2021-03-05 22:59:20',372.97,8.75,16,NULL,8,11),(63,'2021-03-06 00:03:20',897.96,57.43,9,NULL,4,1),(64,'2021-03-06 01:05:20',694.78,62.88,3,NULL,9,5),(65,'2021-03-06 01:05:20',59.07,28.72,13,NULL,4,14),(66,'2021-03-06 02:06:20',708.88,70.7,21,8,NULL,4),(67,'2021-03-06 03:31:20',262.4,74.72,47,NULL,7,18),(68,'2021-03-06 04:34:20',456.9,38.3,27,5,NULL,10),(69,'2021-03-06 05:12:20',243.84,9.24,36,NULL,7,7),(70,'2021-03-06 05:46:20',369.01,81.47,48,NULL,1,2),(71,'2021-03-06 07:00:20',149.42,51.92,8,NULL,5,17),(72,'2021-03-06 07:05:20',845.07,6.41,39,NULL,4,9),(73,'2021-03-06 07:22:20',629.64,62.41,12,3,NULL,18),(74,'2021-03-06 07:28:20',603.78,82.41,16,1,NULL,1),(75,'2021-03-06 08:11:20',70.58,7.09,8,NULL,1,20),(76,'2021-03-06 09:37:20',326.69,6.06,16,4,NULL,15),(77,'2021-03-06 10:05:20',781.66,6.93,1,7,NULL,13),(78,'2021-03-06 11:31:20',553.09,17.35,11,5,NULL,7),(79,'2021-03-06 12:34:20',987.89,3.94,12,NULL,6,13),(80,'2021-03-06 14:04:20',494.6,76.6,17,NULL,2,8),(81,'2021-03-06 15:41:20',613.65,15.99,47,3,NULL,12),(82,'2021-03-06 16:25:20',371.59,53.18,27,NULL,10,14),(83,'2021-03-06 17:29:20',882.25,50.36,43,7,NULL,12),(84,'2021-03-06 18:52:20',464.93,83.27,38,NULL,5,3),(85,'2021-03-06 20:01:20',859.21,22.96,28,2,NULL,2),(86,'2021-03-06 21:00:20',81.54,64.68,49,NULL,1,8),(87,'2021-03-06 21:32:20',209.08,8.06,39,NULL,9,8),(88,'2021-03-06 22:15:20',225.89,83.07,24,NULL,1,9),(89,'2021-03-06 23:36:20',40,75.89,34,1,NULL,1),(90,'2021-03-07 00:18:20',13.79,81.33,2,6,NULL,16),(91,'2021-03-07 01:42:20',369.03,32.39,26,NULL,5,7),(92,'2021-03-07 02:37:20',857.15,64.06,31,2,NULL,16),(93,'2021-03-07 02:49:20',992.37,59.12,48,1,NULL,21),(94,'2021-03-07 04:03:20',873.26,14.51,6,1,NULL,11),(95,'2021-03-07 04:51:20',424.75,68.59,8,NULL,2,11),(96,'2021-03-07 05:27:20',241.75,13.53,47,3,NULL,10),(97,'2021-03-07 06:50:20',216.13,57.89,13,4,NULL,5),(98,'2021-03-07 07:25:20',364.91,78.45,41,NULL,5,19),(99,'2021-03-07 08:45:20',716.78,18.66,39,3,NULL,2),(100,'2021-03-07 10:08:20',157.18,29.47,1,2,NULL,16),(101,'2021-03-07 11:36:20',961.99,15.77,45,NULL,5,8),(102,'2021-03-07 12:39:20',98.83,61.09,38,8,NULL,15),(103,'2021-03-07 13:41:20',268.68,48.7,31,NULL,6,13),(104,'2021-03-07 14:26:20',886.99,8.04,37,NULL,2,3),(105,'2021-03-07 14:52:20',296.57,71.33,34,2,NULL,5),(106,'2021-03-07 16:30:20',299.1,56.74,47,8,NULL,18),(107,'2021-03-07 16:48:20',678.65,84.09,9,NULL,2,12),(108,'2021-03-07 17:37:20',155.23,31.78,7,6,NULL,17),(109,'2021-03-07 18:33:20',872.08,69.04,41,NULL,1,18),(110,'2021-03-07 18:42:20',65.83,6.48,7,NULL,9,16),(111,'2021-03-07 19:33:20',454.65,75.66,21,7,NULL,19),(112,'2021-03-07 20:26:20',108.68,96.44,25,NULL,5,11),(113,'2021-03-07 21:43:20',715.9,27.94,13,NULL,4,6),(114,'2021-03-07 22:40:20',390.84,25.72,6,NULL,7,18),(115,'2021-03-07 23:53:20',907.19,34.44,1,NULL,9,7),(116,'2021-03-08 00:16:20',47.48,54.78,30,3,NULL,12),(117,'2021-03-08 00:38:20',205.42,35.88,9,7,NULL,5),(118,'2021-03-08 02:13:20',182.67,5.83,37,NULL,5,17),(119,'2021-03-08 02:25:20',109.15,18.38,29,4,NULL,2),(120,'2021-03-08 03:50:20',379.09,35.77,32,NULL,10,6),(121,'2021-03-08 04:13:20',941.15,2.19,15,3,NULL,16),(122,'2021-03-08 04:18:20',681.2,24.2,9,NULL,1,19),(123,'2021-03-08 04:56:20',324.4,48.13,22,NULL,4,9),(124,'2021-03-08 05:45:20',989.6,48.36,23,7,NULL,16),(125,'2021-03-08 06:14:20',720.11,72.15,22,NULL,1,19),(126,'2021-03-08 06:21:20',312.09,35.87,43,NULL,5,17),(127,'2021-03-08 07:34:20',406.34,85.58,3,6,NULL,5),(128,'2021-03-08 08:41:20',332.57,66.06,15,5,NULL,9),(129,'2021-03-08 08:59:20',821.63,57.07,20,NULL,10,6),(130,'2021-03-08 10:22:20',196.02,48.36,41,6,NULL,20),(131,'2021-03-08 10:53:20',678.06,47.32,17,2,NULL,7),(132,'2021-03-08 12:20:20',463.44,70.19,6,4,NULL,1),(133,'2021-03-08 12:43:20',543.23,3.04,26,NULL,1,14),(134,'2021-03-08 13:49:20',947.01,74.52,44,2,NULL,20),(135,'2021-03-08 14:52:20',146.91,83.19,36,1,NULL,9),(136,'2021-03-08 16:06:20',740.11,47.54,8,3,NULL,11),(137,'2021-03-08 16:49:20',386.91,63.85,2,NULL,2,20),(138,'2021-03-08 16:51:20',657.77,22.77,9,2,NULL,15),(139,'2021-03-08 18:30:20',481.19,44.67,39,5,NULL,13),(140,'2021-03-08 19:58:20',600.45,35.74,49,NULL,4,2),(141,'2021-03-08 20:32:20',800.13,97.83,25,NULL,2,2),(142,'2021-03-08 22:11:20',790.65,98.78,28,NULL,7,15),(143,'2021-03-08 22:49:20',405.12,89.45,13,NULL,3,9),(144,'2021-03-08 23:42:20',556.43,20.69,18,NULL,10,2),(145,'2021-03-08 23:51:20',127.86,35.45,20,NULL,3,12),(146,'2021-03-09 01:02:20',322.33,47.69,21,6,NULL,5),(147,'2021-03-09 01:08:20',485.55,24.85,39,2,NULL,7),(148,'2021-03-09 02:34:20',63.84,73.65,25,2,NULL,1),(149,'2021-03-09 03:34:20',182.09,9.71,47,4,NULL,18);
/*!40000 ALTER TABLE `transaction` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2021-03-03 21:07:59
